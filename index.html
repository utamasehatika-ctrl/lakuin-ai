<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lakuin-AI Studio</title>

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{margin:0;background:#0b2a27;color:#eafffb}
.container{display:flex;padding:20px;gap:20px}
.sidebar{width:260px;background:#0f3a35;padding:15px;border-radius:14px}
.main{flex:1;background:#0f3a35;padding:20px;border-radius:14px}

h3{margin:0 0 10px}
.section{margin-bottom:18px}

.upload-box{
  border:2px dashed #3de3c9;
  padding:25px;
  border-radius:14px;
  text-align:center;
  cursor:pointer;
}
.upload-box input{display:none}

.select,textarea{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  background:#0b2a27;
  color:#eafffb;
  margin-top:6px;
}

.row{display:flex;gap:12px}
.row > div{flex:1}

.aspect button{
  flex:1;
  padding:14px;
  border-radius:12px;
  border:1px solid #2bdac0;
  background:#0b2a27;
  color:#eafffb;
  cursor:pointer;
}
.aspect button.active{background:#2bdac0;color:#00352f}

.generate{
  margin-top:15px;
  width:100%;
  padding:16px;
  border-radius:14px;
  background:#2bdac0;
  border:none;
  font-weight:bold;
  cursor:pointer;
}

.results{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:15px;
  margin-top:15px;
}
.results img{
  width:100%;
  border-radius:12px;
  object-fit:cover;
}
</style>
</head>

<body>
<div class="container">

<!-- SIDEBAR -->
<div class="sidebar">
  <h3>Upload Produk</h3>
  <label class="upload-box">
    Klik / Drop foto
    <input type="file" id="productUpload" multiple accept="image/*">
  </label>
</div>

<!-- MAIN -->
<div class="main">

<h3>Scene Settings</h3>

<div class="section">
  <select id="modelType" class="select">
    <option>Wanita Non-Hijab</option>
    <option>Wanita Berhijab</option>
    <option>Pria</option>
    <option>Anak Perempuan</option>
    <option>Anak Laki-laki</option>
    <option>Tanpa Model</option>
  </select>
</div>

<div class="row section">
  <div>
    <label>Background</label>
    <select id="background" class="select">
      <option>Kamar Tidur</option>
      <option>Studio Minimalis</option>
      <option>Kafe Outdoor</option>
      <option>Hotel Mewah</option>
    </select>
  </div>
  <div>
    <label>Vibes</label>
    <select id="vibes" class="select">
      <option>Aesthetic</option>
      <option>Minimalis</option>
      <option>Mewah</option>
      <option>Cozy</option>
    </select>
  </div>
</div>

<div class="section">
  <label>Custom Prompt</label>
  <textarea id="customPrompt" rows="2" placeholder="Detail tambahan..."></textarea>
</div>

<h3>Aspect Ratio</h3>
<div class="row aspect">
  <button class="active" onclick="setAspect(this)">9:16</button>
  <button onclick="setAspect(this)">1:1</button>
  <button onclick="setAspect(this)">3:4</button>
  <button onclick="setAspect(this)">16:9</button>
</div>

<button class="generate" onclick="generate()">‚ú® GENERATE MAGIC</button>

<h3 style="margin-top:20px">Studio Results</h3>
<div class="results" id="results"></div>

</div>
</div>

<script>
let uploadedImages=[];

document.getElementById('productUpload').addEventListener('change',function(e){
  uploadedImages=[];
  for(let file of e.target.files){
    const reader=new FileReader();
    reader.onload=ev=>uploadedImages.push(ev.target.result);
    reader.readAsDataURL(file);
  }
});

function setAspect(btn){
  document.querySelectorAll('.aspect button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

function generate(){
  const results=document.getElementById('results');
  results.innerHTML='';

  if(uploadedImages.length===0){
    alert('Upload foto produk dulu');
    return;
  }

  uploadedImages.forEach(src=>{
    const img=document.createElement('img');
    img.src=src;
    results.appendChild(img);
  });
}
</script><script>
async function generate(){
  const results = document.getElementById('results');
  results.innerHTML = "‚è≥ Generating AI Image...";

  const prompt = `
  fashion photoshoot,
  wanita non hijab,
  outfit elegan,
  background kamar hotel mewah,
  cinematic lighting,
  ultra realistic
  `;

  const res = await fetch("http://localhost:3000/generate", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      prompt: prompt,
      aspect: "9:16"
    })
  });

  const data = await res.json();

  results.innerHTML = "";
  if(data?.output){
    data.output.forEach(img=>{
      const image = document.createElement("img");
      image.src = img;
      results.appendChild(image);
    });
  }else{
    results.innerHTML = "‚ùå Gagal generate";
  }
}
</script>

</body>
</html>import express from "express";
import fetch from "node-fetch";
import cors from "cors";

const app = express();
app.use(cors());
app.use(express.json());

const REPLICATE_API_KEY = "ISI_API_KEY_REPLICATE_KAMU";

app.post("/generate", async (req, res) => {
  const { prompt, aspect } = req.body;

  try {
    const response = await fetch("https://api.replicate.com/v1/predictions", {
      method: "POST",
      headers: {
        "Authorization": `Token ${REPLICATE_API_KEY}`,
        "Content-Type": "application/json"
      },
      body: JSON.stringify({
        version: "stability-ai/sdxl:latest",
        input: {
          prompt,
          aspect_ratio: aspect
        }
      })
    });

    const data = await response.json();
    res.json(data);
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});

app.listen(3000, () =>
  console.log("üî• AI Server running http://localhost:3000")
);
